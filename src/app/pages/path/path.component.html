<div *ngIf="item">
    <div class="row mb-4">
        <div class="col-md-4 col-sm-12">
            <div class="card">
                <div class="card-header">
                    Блок Путь
                </div>
                <div class="card-block">
                    <ul class="list-unstyled">
                        <li>Id = {{item.Id}}</li>
                        <li>PathLatin = {{item.PathLatin}}</li>
                        <li>PathSuffix = {{item.PathSuffix}}</li>
                        <li>ParentPathId = {{item.ParentPathId}}</li>
                        <li>ParentPathLatin = {{item.ParentPathLatin}}</li>
                        <li>ParentPathSuffix = {{item.ParentPathSuffix}}</li>
                    </ul>
                </div>
                <div class="card-footer">
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary">Перенаправить на путь</button>
                    </div>
                </div>
            </div>
        </div>
    

        <div class="col-md-4 col-sm-12">
            <div class="card">
                <div class="card-header">
                    Блок Объект
                </div>
                <div class="card-block">
                    <ul class="list-unstyled">
                        <li>GlobalId = {{item.GlobalId}}</li>
                        <li>ObjectId = {{item.ObjectId}}</li>
                        <li>ObjectTypeId = {{item.ObjectTypeId}}</li>
                        <li>ObjectTypeName = {{item.ObjectTypeName}}</li>
                        <li>Name = {{item.Name}}</li>
                        <li>Description = {{item.Description}}</li>
                    </ul>
                </div>
                <div class="card-footer">
                    <div class="btn-group btn-primary">
                        <a [routerLink]="['/object', item.ObjectTypeId, item.ObjectId]" class="btn btn-primary">EDIT</a>
                        <button class="btn btn-success" (click)="openDialog(modalContent)">Выставить объект</button>
                        <button class="btn btn-danger" (click)="deleteObject()">Удалить</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4 col-sm-12">
            <div class="card">
                <div class="card-header">
                    Блок SEO
                </div>
                <div class="card-block">
                    <ul class="list-unstyled">
                        <li>SeoNoIndex = {{item.SeoNoIndex}}</li>
                        <li>SeoStatusId = {{item.SeoStatusId}}</li>
                        <li>SeoTitle = {{item.SeoTitle}}</li>
                        <li>SeoDescription = {{item.SeoDescription}}</li>
                        <li>SeoKeywords = {{item.SeoKeywords}}</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <div class="row mb-4">
        <div class="col-sm-12">        
            <div class="card card-table">
                <div class="card-header">
                    <h3>История изменения пути у объекта HistoryPath</h3>
                </div>
                <div class="card-body">
                    <table class="table table-bordered">
                        <thead class="thead-dark">
                            <tr>
                                <th>Id</th>
                                <th>ObjectTypeName</th>
                                <th>Url</th>
                                <th>Date</th>
                                <th>Edit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let path of item.HistoryPath">      
                                <td>{{path.Id}}</td>
                                <td>{{path.Item ? path.Item.ObjectTypeName : ''}}</td>
                                <td>{{path.Item ? path.Item.Url : ''}}</td>
                                <td>{{path.CreateTime | date: 'dd.MM.yyyy HH:mm:ss'}}</td>
                                <td>
                                    <a *ngIf="path.Item && path.Item.ObjectTypeId == 11" [routerLink]="['/path', path.Item.Id]">Edit</a>
                                    <a *ngIf="path.Item && path.Item.ObjectTypeId != 11" [routerLink]="['/object', path.Item.ObjectTypeId, path.Item.ObjectId]">Edit</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
         
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-sm-12">

            <div class="card card-table">
                <div class="card-header">
                    <h3>История изменения объектов на пути HistoryObject</h3>
                </div>
                <div class="card-body">
                    <table class="table table-bordered">
                        <thead class="thead-dark">
                            <tr>
                                <th>Id</th>
                                <th>ObjectTypeName</th>
                                <th>Url</th>
                                <th>Date</th>
                                <th>Edit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let obj of item.HistoryObject">      
                                <td>{{obj.Id}}</td>
                                <td>{{obj.Item ? obj.Item.ObjectTypeName : ''}}</td>
                                <td>{{obj.Item ? obj.Item.Url : ''}}</td>
                                <td>{{obj.CreateTime | date: 'dd.MM.yyyy HH:mm:ss'}}</td>
                                <td>
                                    <a *ngIf="obj.Item && obj.Item.ObjectTypeId == 11" [routerLink]="['/path', obj.Item.Id]">Edit</a>
                                    <a *ngIf="obj.Item && obj.Item.ObjectTypeId != 11" [routerLink]="['/object', obj.Item.ObjectTypeId, obj.Item.ObjectId]">Edit</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <div class="col-sm-12">
                <div class="card card-table">
                        <div class="card-header">
                            <h3>Список редиректов на данный путь</h3> 
                        </div>
                        <div class="card-body">
                            <table class="table table-bordered">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Id</th>
                                        <th>Url</th>
                                        <th>Edit</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let red of item.Redirects">      
                                        <td>{{red.Id}}</td>
                                        <td>{{red.Url}}</td>
                                        <td>
                                            <a [routerLink]="['/path', red.PathId]">Edit</a>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>
               
        </div>
    </div>  

</div>


<ng-template #modalContent let-modal>
    <div class="modal-header">
        <h4 id="modal-basic-title">Выберите объект</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <app-search [pathId]="item?.Id"></app-search>
    </div>
</ng-template>