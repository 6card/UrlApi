<form [formGroup]="searchForm" (ngSubmit)="onSubmit()">
    <div formArrayName="items" *ngFor="let controls of getGroupControls(); let i = index;">
        <div [formGroupName]="i" class="form-row">
                <div class="col-md-1">
                    <span *ngIf="i > 0" class="badge badge-primary" (click)="deleteSearchItem(i)">{{getCondition(controls.get('queryOperation').value)}}</span>
                </div>
            <search-sub-form class="col-md-11" [subForm]="controls" [typeId]="typeId"></search-sub-form>
        </div>
    </div>
    <div class="clr-form-control clr-row">
        <div class="clr-control-container clr-col-xs-12 clr-col-md-12 text-center">
            <div ngbDropdown>
                <button class="btn btn-outline-primary" id="dropdownAddForm" ngbDropdownToggle type="button"><i class="fa fa-plus"></i></button>
                <div ngbDropdownMenu aria-labelledby="dropdownAddForm">
                    <button class="dropdown-item" type="button" (click)="addItem(0)">ИЛИ</button>
                    <button class="dropdown-item" type="button" (click)="addItem(1)">И</button>
                    <button class="dropdown-item" type="button" (click)="addItem(2)">НЕ</button>
                </div>
            </div>
        </div>
    </div>
    <div class="clr-form-control clr-row">
        <div class="clr-control-container clr-col-xs-12 clr-col-md-12 text-center">
            <button [clrLoading]="loading" type="submit" class="btn">Search</button>
        </div>
    </div>
</form>
    
